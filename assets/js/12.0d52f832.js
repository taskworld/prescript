(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{371:function(t,e,s){"use strict";s.r(e);var n=s(42),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"running-a-test-cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-a-test-cli"}},[t._v("#")]),t._v(" Running a test (CLI)")]),t._v(" "),s("h2",{attrs:{id:"development-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#development-mode"}},[t._v("#")]),t._v(" Development mode")]),t._v(" "),s("p",[t._v("The "),s("strong",[t._v("development mode")]),t._v(" provides the "),s("strong",[t._v("prescript interactive shell")]),t._v(" which\nallows you to hot-reload the tests, or jump to steps in the test.")]),t._v(" "),s("p",[t._v("To run a test in development mode:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn prescript tests/Filename.js -d\n")])])]),s("h2",{attrs:{id:"non-interactive-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#non-interactive-mode"}},[t._v("#")]),t._v(" Non-interactive mode")]),t._v(" "),s("p",[t._v("The "),s("strong",[t._v("non-interactive mode")]),t._v(" is for using in CI systems. The prescript\ninteractive shell is not available here, but an Allure test result files may be\ngenerated in this mode.")]),t._v(" "),s("p",[t._v("To run a test in non-interactive mode:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn prescript tests/Filename.js\n")])])]),s("h2",{attrs:{id:"when-a-test-file-contain-multiple-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#when-a-test-file-contain-multiple-tests"}},[t._v("#")]),t._v(" When a test file contain multiple tests")]),t._v(" "),s("p",[t._v("As introduced earlier, a prescript process only runs a single test once.\nHowever, for ease of use and flexibility, a test file may define multiple tests.\nEach test can be uniquely identified by its "),s("strong",[t._v("test name.")])]),t._v(" "),s("p",[t._v("You don’t have to specify the test name to run if there is only one test.\nHowever, if a test file declares multiple tests, prescript will refuse to run.\nIn this case, you must explicitly specify the name of the test to run.")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" prescript "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tests/Filename.js "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test name"')]),t._v("\n")])])]),s("p",[t._v("You can list all tests using:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" prescript tests/Filename.js --list\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" prescript tests/Filename.js --list --json\n")])])]),s("h2",{attrs:{id:"exit-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exit-code"}},[t._v("#")]),t._v(" Exit code")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("Exit codes only apply to non-interactive mode")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Exit Code")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("Successful test")])]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("Failed test")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("Pending test")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("Multiple tests defined")])])])]),t._v(" "),s("h2",{attrs:{id:"allure-env-environment-variables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#allure-env-environment-variables"}},[t._v("#")]),t._v(" "),s("code",[t._v("ALLURE_ENV_*")]),t._v(" environment variables")]),t._v(" "),s("p",[t._v("In the non-interactive mode, when you specify the "),s("code",[t._v("ALLURE_ENV_*")]),t._v(" environment\nvariables, they will be added to the test report files.")]),t._v(" "),s("h2",{attrs:{id:"running-multiple-tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#running-multiple-tests"}},[t._v("#")]),t._v(" Running multiple tests")]),t._v(" "),s("p",[t._v("prescript "),s("strong",[t._v("by design")]),t._v(" only runs a single test. This allows prescript to remain\na simple tool. You must implement your own test orchestrator to fit it to your\nproject needs, which may include:")]),t._v(" "),s("ul",[s("li",[t._v("Running all tests.")]),t._v(" "),s("li",[t._v("Running only a subset of tests.")]),t._v(" "),s("li",[t._v("Running tests sequentially.")]),t._v(" "),s("li",[t._v("Running tests in parallel.")]),t._v(" "),s("li",[t._v("Distributing tests to be run on a cluster of test runner machines.")]),t._v(" "),s("li",[t._v("Randomizing or specify the order of tests.")]),t._v(" "),s("li",[t._v("Retrying failed tests.")]),t._v(" "),s("li",[t._v("Aborting the test in case of too many failures.")]),t._v(" "),s("li",[t._v("Preparing environment variables before running tests.")])]),t._v(" "),s("p",[t._v("If prescript supported all of the above, it would make prescript unnecessarily\ncomplex. Therefore, prescript requires you to write your own test orchestrator.\n"),s("a",{attrs:{href:"https://github.com/taskworld/prescript/tree/78c094874fc3ae54107003ec976d211c106c330d/examples/testAll.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("It’s just a few lines of code!"),s("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=a.exports}}]);